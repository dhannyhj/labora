<!-- Labora Sidebar Component -->
<!-- Menggunakan custom Labora classes untuk konsistensi -->

<!-- Desktop Sidebar -->
<aside class="labora-sidebar hidden lg:flex" id="desktop-sidebar">
    <!-- Sidebar Header -->
    <div class="p-4 border-b border-gray-200 dark:border-gray-700">
        <div class="flex items-center justify-between">
            <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Menu</h2>
            <button type="button" 
                    class="p-1 rounded-md text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"
                    id="sidebar-toggle"
                    title="Toggle Sidebar">
                <i class="fas fa-chevron-left text-sm"></i>
            </button>
        </div>
    </div>

    <!-- Navigation Menu -->
    <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
        <!-- Dashboard Section -->
        <div class="mb-4">
            <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">
                Dashboard
            </h3>
            <a href="/" class="labora-nav-item {{#ifEquals currentPage 'dashboard'}}active{{/ifEquals}}">
                <i class="fas fa-chart-pie labora-nav-icon"></i>
                <span class="nav-text">Dashboard</span>
            </a>
            <a href="/analytics" class="labora-nav-item {{#ifEquals currentPage 'analytics'}}active{{/ifEquals}}">
                <i class="fas fa-chart-line labora-nav-icon"></i>
                <span class="nav-text">Analytics</span>
            </a>
        </div>

        <!-- Patient Management -->
        <div class="mb-4">
            <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">
                Manajemen Pasien
            </h3>
            <a href="/patients" class="labora-nav-item {{#ifEquals currentPage 'patients'}}active{{/ifEquals}}">
                <i class="fas fa-user-friends labora-nav-icon"></i>
                <span class="nav-text">Data Pasien</span>
            </a>
            <a href="/appointments" class="labora-nav-item {{#ifEquals currentPage 'appointments'}}active{{/ifEquals}}">
                <i class="fas fa-calendar-check labora-nav-icon"></i>
                <span class="nav-text">Appointment</span>
            </a>
        </div>

        <!-- Laboratory Operations -->
        <div class="mb-4">
            <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">
                Operasional Lab
            </h3>
            <a href="/tests" class="labora-nav-item {{#ifEquals currentPage 'tests'}}active{{/ifEquals}}">
                <i class="fas fa-flask labora-nav-icon"></i>
                <span class="nav-text">Test Requests</span>
            </a>
            <a href="/specimens" class="labora-nav-item {{#ifEquals currentPage 'specimens'}}active{{/ifEquals}}">
                <i class="fas fa-vial labora-nav-icon"></i>
                <span class="nav-text">Spesimen</span>
            </a>
            <a href="/results" class="labora-nav-item {{#ifEquals currentPage 'results'}}active{{/ifEquals}}">
                <i class="fas fa-clipboard-list labora-nav-icon"></i>
                <span class="nav-text">Hasil Lab</span>
            </a>
            <a href="/reports" class="labora-nav-item {{#ifEquals currentPage 'reports'}}active{{/ifEquals}}">
                <i class="fas fa-file-medical-alt labora-nav-icon"></i>
                <span class="nav-text">Reports</span>
            </a>
        </div>

        <!-- Quality Control -->
        <div class="mb-4">
            <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">
                Quality Control
            </h3>
            <a href="/qc" class="labora-nav-item {{#ifEquals currentPage 'qc'}}active{{/ifEquals}}">
                <i class="fas fa-shield-alt labora-nav-icon"></i>
                <span class="nav-text">QC Data</span>
            </a>
            <a href="/calibrations" class="labora-nav-item {{#ifEquals currentPage 'calibrations'}}active{{/ifEquals}}">
                <i class="fas fa-cogs labora-nav-icon"></i>
                <span class="nav-text">Kalibrasi</span>
            </a>
        </div>

        <!-- Inventory -->
        <div class="mb-4">
            <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">
                Inventory
            </h3>
            <a href="/reagents" class="labora-nav-item {{#ifEquals currentPage 'reagents'}}active{{/ifEquals}}">
                <i class="fas fa-prescription-bottle labora-nav-icon"></i>
                <span class="nav-text">Reagents</span>
            </a>
            <a href="/equipment" class="labora-nav-item {{#ifEquals currentPage 'equipment'}}active{{/ifEquals}}">
                <i class="fas fa-microscope labora-nav-icon"></i>
                <span class="nav-text">Equipment</span>
            </a>
        </div>

        <!-- Administration -->
        <div class="mb-4">
            <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">
                Administrasi
            </h3>
            <a href="/users" class="labora-nav-item {{#ifEquals currentPage 'users'}}active{{/ifEquals}}">
                <i class="fas fa-users labora-nav-icon"></i>
                <span class="nav-text">Pengguna</span>
            </a>
            <a href="/settings" class="labora-nav-item {{#ifEquals currentPage 'settings'}}active{{/ifEquals}}">
                <i class="fas fa-cog labora-nav-icon"></i>
                <span class="nav-text">Pengaturan</span>
            </a>
        </div>
    </nav>

    <!-- Sidebar Footer -->
    <div class="p-4 border-t border-gray-200 dark:border-gray-700">
        <div class="flex items-center justify-between text-xs text-gray-500 dark:text-gray-400">
            <span>Status System</span>
            <div class="flex items-center space-x-2">
                <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                <span>Online</span>
            </div>
        </div>
    </div>
</aside>

<!-- Mobile Sidebar Overlay -->
<div class="lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40 hidden" id="mobile-sidebar-overlay"></div>

<!-- Mobile Sidebar -->
<aside class="lg:hidden fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 shadow-xl z-50 transform -translate-x-full transition-transform duration-300 ease-in-out" 
       id="mobile-sidebar">
    <div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
        <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Menu</h2>
        <button type="button" 
                class="p-1 rounded-md text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"
                id="mobile-sidebar-close">
            <i class="fas fa-times text-lg"></i>
        </button>
    </div>
    
    <!-- Mobile Navigation (Same structure as desktop) -->
    <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
        <!-- Dashboard Section -->
        <div class="mb-4">
            <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">
                Dashboard
            </h3>
            <a href="/" class="labora-nav-item {{#ifEquals currentPage 'dashboard'}}active{{/ifEquals}}">
                <i class="fas fa-chart-pie labora-nav-icon"></i>
                <span class="nav-text">Dashboard</span>
            </a>
            <a href="/analytics" class="labora-nav-item {{#ifEquals currentPage 'analytics'}}active{{/ifEquals}}">
                <i class="fas fa-chart-line labora-nav-icon"></i>
                <span class="nav-text">Analytics</span>
            </a>
        </div>

        <!-- Patient Management -->
        <div class="mb-4">
            <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">
                Manajemen Pasien
            </h3>
            <a href="/patients" class="labora-nav-item {{#ifEquals currentPage 'patients'}}active{{/ifEquals}}">
                <i class="fas fa-user-friends labora-nav-icon"></i>
                <span class="nav-text">Data Pasien</span>
            </a>
            <a href="/appointments" class="labora-nav-item {{#ifEquals currentPage 'appointments'}}active{{/ifEquals}}">
                <i class="fas fa-calendar-check labora-nav-icon"></i>
                <span class="nav-text">Appointment</span>
            </a>
        </div>

        <!-- Laboratory Operations -->
        <div class="mb-4">
            <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">
                Operasional Lab
            </h3>
            <a href="/tests" class="labora-nav-item {{#ifEquals currentPage 'tests'}}active{{/ifEquals}}">
                <i class="fas fa-flask labora-nav-icon"></i>
                <span class="nav-text">Test Requests</span>
            </a>
            <a href="/specimens" class="labora-nav-item {{#ifEquals currentPage 'specimens'}}active{{/ifEquals}}">
                <i class="fas fa-vial labora-nav-icon"></i>
                <span class="nav-text">Spesimen</span>
            </a>
            <a href="/results" class="labora-nav-item {{#ifEquals currentPage 'results'}}active{{/ifEquals}}">
                <i class="fas fa-clipboard-list labora-nav-icon"></i>
                <span class="nav-text">Hasil Lab</span>
            </a>
            <a href="/reports" class="labora-nav-item {{#ifEquals currentPage 'reports'}}active{{/ifEquals}}">
                <i class="fas fa-file-medical-alt labora-nav-icon"></i>
                <span class="nav-text">Reports</span>
            </a>
        </div>

        <!-- Quality Control -->
        <div class="mb-4">
            <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">
                Quality Control
            </h3>
            <a href="/qc" class="labora-nav-item {{#ifEquals currentPage 'qc'}}active{{/ifEquals}}">
                <i class="fas fa-shield-alt labora-nav-icon"></i>
                <span class="nav-text">QC Data</span>
            </a>
            <a href="/calibrations" class="labora-nav-item {{#ifEquals currentPage 'calibrations'}}active{{/ifEquals}}">
                <i class="fas fa-cogs labora-nav-icon"></i>
                <span class="nav-text">Kalibrasi</span>
            </a>
        </div>

        <!-- Inventory -->
        <div class="mb-4">
            <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">
                Inventory
            </h3>
            <a href="/reagents" class="labora-nav-item {{#ifEquals currentPage 'reagents'}}active{{/ifEquals}}">
                <i class="fas fa-prescription-bottle labora-nav-icon"></i>
                <span class="nav-text">Reagents</span>
            </a>
            <a href="/equipment" class="labora-nav-item {{#ifEquals currentPage 'equipment'}}active{{/ifEquals}}">
                <i class="fas fa-microscope labora-nav-icon"></i>
                <span class="nav-text">Equipment</span>
            </a>
        </div>

        <!-- Administration -->
        <div class="mb-4">
            <h3 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">
                Administrasi
            </h3>
            <a href="/users" class="labora-nav-item {{#ifEquals currentPage 'users'}}active{{/ifEquals}}">
                <i class="fas fa-users labora-nav-icon"></i>
                <span class="nav-text">Pengguna</span>
            </a>
            <a href="/settings" class="labora-nav-item {{#ifEquals currentPage 'settings'}}active{{/ifEquals}}">
                <i class="fas fa-cog labora-nav-icon"></i>
                <span class="nav-text">Pengaturan</span>
            </a>
        </div>
    </nav>
</aside>